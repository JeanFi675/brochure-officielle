/*!
 * @theme brutal-simple
 * @author JeanFi (Version corrigée - Sans encadrement emojis)
 * @auto-scaling true
 * @size A4
 */

/* THEME BRUTAL SIMPLE - VERSION QUI FONCTIONNE */
@import url("https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&family=Space+Grotesk:wght@400;700;900&family=Space+Mono:wght@700&display=swap");

/* === CORRECTION EMOJIS MARP VS CODE === */
/* Neutralise TOUS les styles appliqués aux images emoji */
img.emoji,
img[data-marp-twemoji],
strong img.emoji,
em img.emoji,
strong img[data-marp-twemoji],
em img[data-marp-twemoji] {
  /* Annule TOUS les styles de bordure/fond */
  background: none !important;
  border: none !important;
  box-shadow: none !important;
  padding: 0 !important;

  /* Taille adaptée au texte */
  height: 1em !important;
  width: 1em !important;
  vertical-align: -0.1em !important;

  /* Marges minimales */
  margin: 0 0.1em !important;

  /* Pas de transformation */
  transform: none !important;

  /* Reste en ligne */
  display: inline !important;
}

/* Si le strong/em ne contient QUE des emojis, neutralise le conteneur */
strong:not(:has(text)):has(img.emoji),
em:not(:has(text)):has(img.emoji) {
  background: none !important;
  color: inherit !important;
  padding: 0 !important;
  font-family: inherit !important;
  font-size: inherit !important;
  margin: 0 !important;
  box-shadow: none !important;
  border: none !important;
  text-transform: none !important;
  font-weight: inherit !important;
  font-style: inherit !important;
}

/* VARIABLES BASIQUES */
section {
  --brutal-black: #000000;
  --brutal-ice: #8bbfd5ff;
  --brutal-white: #ffffff;
  --brutal-gray: #333333;

  --font-heading: "Inter", Arial, sans-serif;
  --font-body: "Space Grotesk", sans-serif;
  --font-mono: "Space Mono", monospace;
}

/* BASE - FORMAT A4 PORTRAIT OBLIGATOIRE */
section {
  width: 794px;
  height: 1122px;
  padding: 40px;
  display: flex !important;
  flex-direction: column !important;
  font-family: var(--font-body);
  background: var(--brutal-white);
  color: var(--brutal-black);
  font-size: 18px; /* réduit la taille globale */
  line-height: 1.6;
  box-sizing: border-box;
  overflow: hidden;
  position: relative;
}

/* TITRES */
h1 {
  font-family: var(--font-heading);
  font-weight: 900;
  font-size: 34px; /* réduit */
  color: var(--brutal-black);
  text-shadow: 3px 3px 0 var(--brutal-ice);
  text-transform: uppercase;
  line-height: 0.9;
  margin: 0 0 10px -8px; /* Marge réduite pour gagner de la place */
  transform: rotate(-0.3deg);
}

h2 {
  font-family: var(--font-heading);
  font-weight: 900;
  font-size: 24px; /* réduit */
  color: var(--brutal-white);
  background: var(--brutal-black);
  padding: 8px 16px; /* réduit */
  display: inline-block;
  text-transform: uppercase;
  border: 3px solid var(--brutal-ice);
  box-shadow: 4px 4px 0 var(--brutal-ice);
  transform: rotate(1.5deg);
  margin: 0 0 12px 0;
}

h3 {
  font-family: var(--font-heading);
  font-weight: 900;
  font-size: 24px; /* même taille que h2 */
  color: var(--brutal-black);
  background: var(--brutal-white);
  padding: 8px 16px;
  display: inline-block;
  text-transform: uppercase;
  border: 3px solid var(--brutal-ice);
  box-shadow: 4px 4px 0 var(--brutal-ice);
  transform: rotate(-2deg);
  margin: 12px 0 8px 0;
}

h4 {
  font-family: var(--font-heading);
  font-weight: 900;
  font-size: 24px; /* même taille que h2 et h3 */
  color: var(--brutal-white);
  background: var(--brutal-ice);
  padding: 8px 16px;
  display: inline-block;
  text-transform: uppercase;
  border: 3px solid var(--brutal-black);
  box-shadow: 4px 4px 0 var(--brutal-black);
  transform: rotate(2.5deg);
  margin: 10px 0 5px 0;
}

h5,
h6 {
  font-family: var(--font-heading);
  font-weight: 600;
  font-size: 16px;
  color: var(--brutal-black);
  margin: 8px 0 5px 0;
}

/* PARAGRAPHES ET BADGES */
p {
  margin: 5px 0;
  max-width: 100%;
}

/* PERSONNALISATION GRAS ET ITALIQUE NEO-BRUTALISTE */
strong {
  display: inline; /* plus inline-block → évite les sauts de ligne */
  padding: 2px 6px;
  background: var(--brutal-black) !important;
  color: var(--brutal-ice) !important;
  border: none !important;
  box-shadow: none !important;
  font-family: var(--font-mono) !important;
  font-weight: normal !important;
  text-transform: none !important;
  font-size: 0.85em;
  transform: none !important;
  margin: 0 2px;
}

/* DÉSACTIVATION COMPLÈTE DU STYLE POUR LES EMOJIS MARP */

/* Cible spécifiquement les images emoji générées par Marp */
img.emoji,
img[data-marp-twemoji] {
  /* Réinitialise tous les styles d'encadrement */
  background: none !important;
  border: none !important;
  box-shadow: none !important;
  padding: 0 !important;
  margin: 0 2px !important;

  /* Taille adaptée au texte environnant */
  height: 1em !important;
  width: 1em !important;
  vertical-align: -0.1em !important;

  /* Pas d'effets de transformation */
  transform: none !important;
}

/* Empêche l'application des styles strong/em aux emojis */
strong > img.emoji,
strong > img[data-marp-twemoji],
em > img.emoji,
em > img[data-marp-twemoji] {
  background: none !important;
  border: none !important;
  box-shadow: none !important;
  padding: 0 !important;
  margin: 0 2px !important;
}

/* Pour les conteneurs de strong/em qui ne contiennent QUE des emojis */
strong:has(> img.emoji):not(:has(*:not(img.emoji))),
em:has(> img.emoji):not(:has(*:not(img.emoji))) {
  background: none !important;
  color: inherit !important;
  padding: 0 !important;
  font-family: inherit !important;
  font-size: inherit !important;
  margin: 0 !important;
  box-shadow: none !important;
  border: none !important;
  text-transform: none !important;
  font-weight: inherit !important;
  font-style: inherit !important;
}

/* Fallback pour navigateurs sans support :has() */
@supports not selector(:has(*)) {
  /* Classe utilitaire manuelle */
  .emoji-only {
    background: none !important;
    color: inherit !important;
    padding: 0 !important;
    font-family: inherit !important;
    font-size: inherit !important;
    margin: 0 !important;
    box-shadow: none !important;
    border: none !important;
    text-transform: none !important;
    font-weight: inherit !important;
    font-style: inherit !important;
  }
}

/* Styles pour l'italique */
em {
  display: inline; /* inline au lieu de bloc */
  padding: 2px 6px;
  background: var(--brutal-ice) !important;
  color: var(--brutal-black) !important;
  border: 2px solid var(--brutal-black) !important;
  box-shadow: 2px 2px 0 var(--brutal-black) !important;
  font-family: var(--font-heading) !important;
  font-style: normal !important;
  font-weight: 700;
  text-transform: uppercase !important;
  font-size: 0.85em;
  margin: 0 2px;
}

/* LISTES */
ul {
  list-style: none;
  padding: 0;
}

li {
  margin: 10px 0;
  padding: 12px 16px 12px 40px;
  background: var(--brutal-white);
  border: 3px solid var(--brutal-black);
  box-shadow: 4px 4px 0 var(--brutal-ice);
  position: relative;
}

li::before {
  content: "▸";
  position: absolute;
  left: 16px;
  top: 12px; /* Match li padding-top */
  font-size: 1.2em;
  line-height: 1.3333; /* 1.6 (parent lh) / 1.2 (font scale) = 1.3333 -> Ensures same line-box height */
  color: var(--brutal-ice);
  font-weight: 900;
}

/* Fix alignment for loose lists (paragraphs) */
li > p:first-child {
  margin-top: 0;
}

li > *:last-child {
  margin-bottom: 0;
}

/* CITATIONS */
blockquote {
  background: var(--brutal-white);
  border: 6px solid var(--brutal-black);
  box-shadow: 6px 6px 0 var(--brutal-black);
  padding: 24px;
  margin: 15px 0;
  font-style: italic;
  position: relative;
  transform: rotate(-1deg);
  line-height: 1.6;
}

blockquote::before {
  content: '"';
  position: absolute;
  top: -20px;
  left: -20px;
  font-size: 4em;
  color: var(--brutal-ice);
  font-weight: 900;
  opacity: 0.7;
}

/* CODE */
code {
  font-family: var(--font-mono);
  background: var(--brutal-black);
  color: var(--brutal-ice);
  padding: 2px 8px;
  border: 2px solid var(--brutal-ice);
  box-shadow: 2px 2px 0 var(--brutal-ice);
  font-weight: 700;
}

pre {
  background: var(--brutal-black);
  color: var(--brutal-ice);
  padding: 24px;
  border: 4px solid var(--brutal-ice);
  box-shadow: 4px 4px 0 var(--brutal-ice);
  font-family: var(--font-mono);
  overflow-x: auto;
  margin: 32px 0;
}

/* LIENS */
a {
  color: var(--brutal-ice);
  background: none;
  padding: 0;
  text-decoration: underline;
  border: none;
  box-shadow: none;
  display: inline;
  font-weight: 700;
  text-transform: none;
  margin: 0;
}

a:hover {
  background: var(--brutal-ice);
  color: var(--brutal-black);
  transform: translate(-2px, -2px);
  box-shadow: 6px 6px 0 var(--brutal-black);
}

/* TABLEAUX */
table {
  width: 100%;
  border-collapse: separate;
  border-spacing: 0;
  border: 4px solid var(--brutal-black);
  box-shadow: 6px 6px 0 var(--brutal-ice);
  margin: 32px 0;
}

th {
  background: var(--brutal-black);
  color: var(--brutal-ice);
  padding: 16px;
  text-align: left;
  font-weight: 700;
  text-transform: uppercase;
  border-bottom: 3px solid var(--brutal-ice);
}

td {
  padding: 16px;
  border-top: 2px solid var(--brutal-black);
  background: var(--brutal-white);
}

tr:hover td {
  background: var(--brutal-ice);
  color: var(--brutal-black);
}

/* FONDS COLORÉS */
section.black {
  background: var(--brutal-black);
  color: var(--brutal-white);
}

section.black h1 {
  color: var(--brutal-ice);
  text-shadow: 4px 4px 0 var(--brutal-white);
}

section.black h2 {
  background: var(--brutal-ice);
  color: var(--brutal-black);
  border-color: var(--brutal-white);
  box-shadow: 6px 6px 0 var(--brutal-white);
}

section.black li {
  background: var(--brutal-black);
  color: var(--brutal-white);
  border-color: var(--brutal-ice);
  box-shadow: 4px 4px 0 var(--brutal-white);
}

section.mint {
  background: var(--brutal-ice);
  color: var(--brutal-black);
}

/* HEADER ET FOOTER */
header {
  position: absolute;
  top: 20px;
  left: 60px;
  right: 60px;
  font-family: var(--font-mono);
  font-size: 12px;
  font-weight: 700;
  text-transform: uppercase;
  text-align: center;
  padding-bottom: 8px;
  border-bottom: 2px solid var(--brutal-ice);
  color: var(--brutal-black);
}

footer {
  position: absolute;
  bottom: 20px;
  left: 60px;
  right: 120px;
  font-family: var(--font-mono);
  font-size: 11px;
  color: var(--brutal-gray);
  padding-top: 8px;
  border-top: 1px solid var(--brutal-ice);
}

/* PAGINATION */
section::after {
  position: absolute;
  bottom: 20px;
  right: 20px;
  content: attr(data-marpit-pagination);
  font-family: var(--font-mono);
  font-size: 12px;
  font-weight: 700;
  color: var(--brutal-black);
  background: var(--brutal-ice);
  padding: 4px 10px;
  border: 2px solid var(--brutal-black);
  box-shadow: 2px 2px 0 var(--brutal-black);
  transform: rotate(-1deg);
  text-transform: uppercase;
}

/* ADAPTATIONS POUR FOND NOIR */
section.black header {
  color: var(--brutal-ice);
  border-bottom-color: var(--brutal-white);
}

section.black footer {
  color: var(--brutal-white);
  border-top-color: var(--brutal-ice);
}

section.black::after {
  color: var(--brutal-white);
  background: var(--brutal-black);
  border-color: var(--brutal-ice);
  box-shadow: 2px 2px 0 var(--brutal-ice);
}

/* COLONNES PARTIELLES (pas toute la page) */
.cols2 {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 30px;
  margin: 5px 0;
}

.cols3 {
  display: grid;
  grid-template-columns: 1fr 1fr 1fr;
  gap: 20px;
  margin: 5px 0;
}

.col-left {
  display: grid;
  grid-template-columns: 2fr 1fr;
  gap: 30px;
  margin: 5px 0;
}

.col-right {
  display: grid;
  grid-template-columns: 1fr 2fr;
  gap: 30px;
  margin: 5px 0;
}

/* CENTRAGE PARTIEL */
.center {
  text-align: center;
  margin: 0 auto;
}

.center-block {
  display: flex;
  justify-content: center;
  align-items: center;
  flex-direction: column;
  margin: 5px 0;
}

/* Espacements Utilitaires */
.mt-25 {
  margin-top: 25px !important;
}
.mt-35 {
  margin-top: 35px !important;
}

/* IMAGES */
img {
  max-width: 100%;
  height: auto;
  border: 6px solid var(--brutal-black);
  box-shadow: 4px 4px 0 var(--brutal-ice);
  display: block;
  margin: 20px auto;
}

.img-left {
  float: left;
  margin: 0 20px 20px 0;
  max-width: 40%;
}

.img-right {
  float: right;
  margin: 0 0 20px 20px;
  max-width: 40%;
}

.img-small {
  max-width: 300px;
}

.img-medium {
  max-width: 500px;
}

/* LOGOS - 4 par ligne */
.logos {
  display: flex;
  flex-wrap: wrap;
  gap: 15px; /* Gap between items */
  margin: 20px auto;
  max-width: 100%; /* Allow full width of the container */
  justify-content: center;
}

.logos img {
  /* Calculation: (140px width + 10px pad + 6px border) * 4 + (15px gap * 3) = 156 * 4 + 45 = 624 + 45 = 669px */
  /* Available space: 794px - 80px pad = 714px. 669px fits comfortably with margins for rotation. */
  width: 140px; 
  height: 80px; 
  object-fit: contain;
  object-position: center;
  border: 3px solid var(--brutal-black);
  box-shadow: 3px 3px 0 var(--brutal-ice);
  display: block;
  margin: 5px; /* Margin for rotation space */
  background: var(--brutal-white);
  padding: 5px;
  transition: transform 0.2s ease;
}

/* Rotation Néo-Brutaliste aléatoire pour les logos */
.logos img:nth-child(odd) {
  transform: rotate(-2deg);
}

.logos img:nth-child(even) {
  transform: rotate(2deg);
}

.logos img:nth-child(3n) {
  transform: rotate(-1deg);
}

.logos img:nth-child(4n) {
  transform: rotate(1.5deg);
}

.logos img:hover {
  transform: scale(1.1) rotate(0deg);
  box-shadow: 6px 6px 0 var(--brutal-black);
  z-index: 10;
}

/* SEPARATEURS */
hr {
  border: none;
  height: 8px;
  background: var(--brutal-black);
  margin: 40px auto;
  width: 60%;
  box-shadow: 3px 3px 0 var(--brutal-ice);
}

/* RESET POUR IMPRESSION */
@media print {
  section {
    width: 210mm;
    height: 297mm;
    padding: 20mm;
  }

  * {
    animation: none !important;
    transition: none !important;
    transform: none !important;
  }

  h1,
  h2,
  h3 {
    text-shadow: 1px 1px 0 var(--brutal-ice) !important;
  }

  li,
  a,
  blockquote,
  table,
  code,
  pre {
    box-shadow: 2px 2px 0 var(--brutal-ice) !important;
  }
}
a[href^="mailto:"] {
  color: inherit !important;
  background: none !important;
  border: none !important;
  box-shadow: none !important;
  padding: 0 !important;
  text-transform: none !important;
  font-weight: inherit !important;
  margin: 0 !important;
  display: inline !important;
}

/* === PUBLICITÉS / SPONSORS === */

/* Conteneur principal qui définit la zone imprimable
   A4 (210x297) - 20mm marges totales = 190mm x 277mm */
.ad-wrapper {
  width: 190mm;
  height: 277mm;
  max-width: 100%;
  max-height: 100%;
  padding: 0;
  margin: 0 auto;
  box-sizing: border-box;
  overflow: visible !important;
}

/* Style de base pour un encart publicitaire */
.ad-img {
  display: block;
  max-width: 100%;
  height: auto !important;
  border: 4px solid var(--brutal-black);
  box-shadow: 6px 6px 0 var(--brutal-ice);
  background: var(--brutal-white);
  padding: 0;
  box-sizing: border-box;
  margin: 10px auto !important;
  object-fit: contain;
}

/* Classes de Rotation Neo-Brutaliste */
.rot-p1 { transform: rotate(1.5deg) !important; }
.rot-m1 { transform: rotate(-1.5deg) !important; }
.rot-p2 { transform: rotate(3deg) !important; }
.rot-m2 { transform: rotate(-3deg) !important; }

/* Placeholder texte (si besoin) */
.ad-text {
  display: flex;
  justify-content: center;
  align-items: center;
  width: 100%;
  background: var(--brutal-white);
  border: 4px solid var(--brutal-black);
  box-shadow: 6px 6px 0 var(--brutal-ice);
  font-family: var(--font-mono);
  font-size: 24px;
  font-weight: bold;
  color: var(--brutal-gray);
  text-align: center;
  padding: 20px;
  box-sizing: border-box;
}

/* Ajustement de la section pour supprimer tout padding parasite */
section.ad-page {
  padding: 10mm !important;
  display: block !important;
  overflow: visible !important;
}

